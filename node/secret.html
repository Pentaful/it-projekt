<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <script type="text/javascript" src="secret.js"></script>
    <title>Easter Egg</title>
</head>
<body>
    <script>

    function toggle_gpio(checkboxElem) {
        const on = new Audio('../media/on.mp3');
        const off = new Audio('../media/off.mp3');

        if (checkboxElem.checked) {
            turnOnGpio();
            on.play();
        } else {
            turnOffGpio();
            off.play();
        }
    }

    function turnOnGpio() {
        fetch('https://tolles-it-projekt.duckdns.org:3000/node/turn-on-gpio')
        .catch(error => console.error('Error turning GPIO pin on:', error.message));
    }

    function turnOffGpio() {
        fetch('https://tolles-it-projekt.duckdns.org:3000/node/turn-off-gpio')
        .catch(error => console.error('Error turning GPIO pin off:', error.message));
    }

    </script>
    
    <main>
        <div class="col col--dark">
            <label>
                <span class="switch">
                    <input class="switch__input" type="checkbox" role="switch" onchange="toggle_gpio(this)">
                    <span class="switch__surface">
                        <span class="switch__surface-glare"></span>
                    </span>
                    <span class="switch__inner-shadow"></span>
                    <span class="switch__inner">
                        <span class="switch__inner-glare"></span>
                    </span>
                    <span class="switch__rocker-shadow"></span>
                    <span class="switch__rocker-sides">
                        <span class="switch__rocker-sides-glare"></span>
                    </span>
                    <span class="switch__rocker">
                        <span class="switch__rocker-glare"></span>
                    </span>
                    <span class="switch__light">
                        <span class="switch__light-inner"></span>
                    </span>
                </span>
                <!-- <span class="sr">Dark Switch</span> -->
            </label>
        </div>
        <!-- <iframe src="http://tolles-it-projekt.duckdns.org:8443/?action=stream&1701126795557" width="600" height="400"></iframe> -->
    </main>
    
</body>
</html>